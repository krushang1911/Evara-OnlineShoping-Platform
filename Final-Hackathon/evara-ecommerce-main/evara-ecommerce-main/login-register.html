<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <link rel="icon" type="image/svg+xml" href="/vite.svg" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Login/SignUp at Evara</title>
    <link rel="stylesheet" href="./assets/css/styles.css" />
    <style>
      :root {
        font-family: Inter, system-ui, Avenir, Helvetica, Arial, sans-serif;
        line-height: 1.5;
        font-weight: 400;
        color-scheme: light dark;
        color: rgba(255, 255, 255, 0.87);
        background-color: #242424;
      }

      body {
        margin: 0;
        min-width: 320px;
        min-height: 100vh;
      }

      /* Header Styles */
      /* .header {
        background: #fff;
        box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
      }

      .header__top {
        background: #f5f5f5;
        padding: 0.5rem 0;
      }

      .header__container {
        max-width: 1200px;
        margin: 0 auto;
        padding: 0 1rem;
        display: flex;
        justify-content: space-between;
        align-items: center;
      }

      .header__contact span {
        margin-right: 1rem;
        color: #333;
      }

      .header__top-action {
        color: #333;
        text-decoration: none;
      }

      .nav {
        padding: 1rem 0;
        max-width: 1200px;
        margin: 0 auto;
        display: flex;
        justify-content: space-between;
        align-items: center;
      }

      .nav__list {
        display: flex;
        list-style: none;
        gap: 2rem;
        margin: 0;
        padding: 0;
      }

      .nav__link {
        color: #333;
        text-decoration: none;
      } */

      /* Login/Register Styles */
      .login-register {
        padding: 4rem 0;
        background: #f9f9f9;
      }

      .login-register__container {
        max-width: 1200px;
        margin: 0 auto;
        display: grid;
        grid-template-columns: repeat(2, 1fr);
        gap: 2rem;
        padding: 0 1rem;
      }

      .login, .register {
        background: #fff;
        padding: 2rem;
        border-radius: 8px;
        box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
      }

      /* Dealer Dashboard Styles */
      .dealer-dashboard {
        padding: 2rem;
        background: #fff;
        border-radius: 8px;
        box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
        color: #213547;
        max-width: 1200px;
        margin: 2rem auto;
      }

      .section__title {
        text-align: center;
        margin-bottom: 2rem;
        color: #333;
      }

      .dashboard-tabs {
        display: flex;
        gap: 1rem;
        margin-bottom: 2rem;
        justify-content: center;
      }

      .tab-btn {
        padding: 0.75rem 1.5rem;
        border: none;
        background: #f1f1f1;
        cursor: pointer;
        border-radius: 4px;
        font-weight: 500;
      }

      .tab-btn.active {
        background: #646cff;
        color: white;
      }

      .dashboard-content {
        padding: 2rem;
        background: #fff;
      }

      .form {
        display: grid;
        gap: 1rem;
        max-width: 600px;
        margin: 0 auto;
      }

      .form__input {
        padding: 0.5rem;
        border: 1px solid #ddd;
        border-radius: 4px;
      }

      .form__group {
        display: grid;
        gap: 0.5rem;
      }

      .products-grid,
      .quantity-grid {
        display: grid;
        grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
        gap: 1.5rem;
      }

      .product-card {
        border: 1px solid #ddd;
        padding: 1rem;
        border-radius: 8px;
      }

      .product-card img {
        width: 100%;
        height: 200px;
        object-fit: cover;
        border-radius: 4px;
      }

      .quantity-controls {
        display: flex;
        align-items: center;
        gap: 0.5rem;
        margin: 1rem 0;
      }

      .quantity-btn {
        padding: 0.25rem 0.5rem;
        border: 1px solid #646cff;
        background: none;
        color: #646cff;
      }

      .quantity-input {
        width: 60px;
        text-align: center;
        padding: 0.25rem;
      }

      .delete-btn {
        background: #ff4646;
        color: white;
        width: 100%;
        padding: 0.5rem;
        border: none;
        border-radius: 4px;
        cursor: pointer;
      }

      .save-btn {
        background: #46ff64;
        color: white;
        width: 100%;
        padding: 0.5rem;
        border: none;
        border-radius: 4px;
        cursor: pointer;
      }

      .btn {
        background: #646cff;
        color: white;
        padding: 0.75rem 1.5rem;
        border: none;
        border-radius: 4px;
        cursor: pointer;
        width: 100%;
      }

      /* Footer Styles */
      /* .footer {
        background: #1a1a1a;
        color: #fff;
        padding: 4rem 0 2rem;
      }

      .footer__container {
        max-width: 1200px;
        margin: 0 auto;
        display: grid;
        grid-template-columns: repeat(4, 1fr);
        gap: 2rem;
        padding: 0 1rem;
      }

      .footer__content {
        display: grid;
        gap: 1rem;
      }

      .footer__title {
        color: #fff;
        font-size: 1.2rem;
        margin-bottom: 1rem;
      }

      .footer__links {
        list-style: none;
        padding: 0;
        margin: 0;
      }

      .footer__link {
        color: #888;
        text-decoration: none;
        margin-bottom: 0.5rem;
        display: block;
      }

      .footer__bottom {
        max-width: 1200px;
        margin: 2rem auto 0;
        padding: 2rem 1rem 0;
        border-top: 1px solid #333;
        display: flex;
        justify-content: space-between;
        color: #888;
      } */

      @media (prefers-color-scheme: light) {
        :root {
          color: #213547;
          background-color: #ffffff;
        }
      }
    </style>
  </head>
  <body>
    <!--=============== HEADER ===============-->
    <header class="header">
      <div class="header__top">
        <div class="header__container container">
          <div class="header__contact">
            <span><a href="tel:+91 8733978801" style="color: black;">+91 8733978801</a></span>
            <span>Our location</span>
          </div>
          <p class="header__alert-news">
            Super Values Deals - Save more coupons
          </p>
          <a href="login-register.html" class="header__top-action">
            Log In / Sign Up
          </a>
        </div>
      </div>

      <nav class="nav container">
        <a href="index.html" class="nav__logo">
          <img
            class="nav__logo-img"
            src="assets/img/logo.svg"
            alt="website logo"
          />
        </a>
        <div class="nav__menu" id="nav-menu">
          <ul class="nav__list">
            <li class="nav__item">
              <a href="index.html" class="nav__link">Home</a>
            </li>
            <li class="nav__item">
              <a href="shop.html" class="nav__link">Shop</a>
            </li>
            <li class="nav__item">
              <a href="accounts.html" class="nav__link">My Account</a>
            </li>
            <li class="nav__item">
              <a href="compare.html" class="nav__link">Compare</a>
            </li>
            <li class="nav__item">
              <a href="login-register.html" class="nav__link">Login</a>
            </li>
          </ul>
          <div class="header__search">
            <input
              type="text"
              placeholder="Search For Items..."
              class="form__input"
            />
            <button class="search__btn">
              <img src="assets/img/search.png" alt="search icon" />
            </button>
          </div>
        </div>
        <div class="header__user-actions">
          <a href="wishlist.html" class="header__action-btn" title="Wishlist">
            <img src="assets/img/icon-heart.svg" alt="" />
            <span class="count">0</span>
          </a>
          <a href="cart.html" class="header__action-btn" title="Cart">
            <img src="assets/img/icon-cart.svg" alt="" />
            <span class="count">0</span>
          </a>
        </div>
      </nav>
    </header>

    <!--=============== LOGIN/REGISTER ===============-->
    <section class="login-register">
      <div class="login-register__container">
        <div class="login">
          <h3 class="section__title">Login</h3>
          <form id="loginForm" class="form">
            <input type="email" placeholder="Email" class="form__input" id="loginEmail" required>
            <input type="password" placeholder="Password" class="form__input" id="loginPassword" required>
            <button type="submit" class="btn">Login</button>
          </form>
        </div>

        <div class="register">
          <h3 class="section__title">Create Account</h3>
          <form id="registerForm" class="form">
            <input type="text" placeholder="Username" class="form__input" id="registerUsername" required>
            <input type="email" placeholder="Email" class="form__input" id="registerEmail" required>
            <input type="password" placeholder="Password" class="form__input" id="registerPassword" required>
            <input type="password" placeholder="Confirm Password" class="form__input" id="confirmPassword" required>
            <div class="form__group">
              <label for="accountType">Account Type:</label>
              <select id="accountType" class="form__input" required>
                <option value="customer">Customer</option>
                <option value="dealer">Dealer</option>
              </select>
            </div>
            <button type="submit" class="btn">Register</button>
          </form>
        </div>
      </div>
    </section>

    <!--=============== DEALER DASHBOARD ===============-->
    <section id="dealerDashboard" class="dealer-dashboard section" style="display: none;">
      <div class="container">
        <h2 class="section__title">Dealer Dashboard</h2>
        
        <div class="dashboard-tabs">
          <button class="tab-btn active" data-tab="addProduct">Add Product</button>
          <button class="tab-btn" data-tab="deleteProduct">Delete Products</button>
          <button class="tab-btn" data-tab="manageQuantity">Manage Quantity</button>
        </div>

        <!-- Add Product Section -->
        <div class="dashboard-content" id="addProduct">
          <h3 class="content__title">Add New Product</h3>
          <form id="productForm" class="form grid">
            <input type="text" placeholder="Product Name" class="form__input" id="productName" required>
            <input type="number" placeholder="Price" class="form__input" id="productPrice" required>
            <input type="number" placeholder="Quantity" class="form__input" id="productQuantity" required>
            <input type="text" placeholder="Colors (comma-separated)" class="form__input" id="productColors" required>
            <input type="text" placeholder="Sizes (comma-separated)" class="form__input" id="productSizes" required>
            <textarea placeholder="Product Description" class="form__input" id="productDescription" required></textarea>
            <div class="form__group">
              <label for="productImage">Product Image:</label>
              <input type="file" id="productImage" accept="image/*" required>
            </div>
            <div class="form__group">
              <label for="productThumbnails">Product Thumbnails (up to 4):</label>
              <input type="file" id="productThumbnails" accept="image/*" multiple>
            </div>
            <button type="submit" class="btn">Add Product</button>
          </form>
        </div>

        <!-- Delete Products Section -->
        <div class="dashboard-content" id="deleteProduct" style="display: none;">
          <h3 class="content__title">Delete Products</h3>
          <div id="productsList" class="products-grid">
            <!-- Products will be loaded here dynamically -->
          </div>
        </div>

        <!-- Manage Quantity Section -->
        <div class="dashboard-content" id="manageQuantity" style="display: none;">
          <h3 class="content__title">Manage Product Quantity</h3>
          <div id="quantityManagement" class="quantity-grid">
            <!-- Products with quantity controls will be loaded here dynamically -->
          </div>
        </div>
      </div>
    </section>

    <!--=============== FOOTER ===============-->
    <footer class="footer container">
      <div class="footer__container grid">
        <div class="footer__content">
          <a href="index.html" class="footer__logo">
            <img src="./assets/img/logo.svg" alt="" class="footer__logo-img" />
          </a>
          <h4 class="footer__subtitle">Contact</h4>
          <p class="footer__description">
            <span>Address:</span> Marwadi University, Morbi Highway, Rajkot
          </p>
          <p class="footer__description">
            <span>Phone:</span> +91 8733978801 / +91 6354746459 / +91 9054101116
          </p>
          <p class="footer__description">
            <span>Hours:</span> 10:00 - 18:00, Mon - Sat
          </p>
          <div class="footer__social">
            <h4 class="footer__subtitle">Follow Me</h4>
            <div class="footer__links flex">
              <a href="#">
                <img
                  src="./assets/img/icon-facebook.svg"
                  alt=""
                  class="footer__social-icon"
                />
              </a>
              <a href="#">
                <img
                  src="./assets/img/icon-twitter.svg"
                  alt=""
                  class="footer__social-icon"
                />
              </a>
              <a href="#">
                <img
                  src="./assets/img/icon-instagram.svg"
                  alt=""
                  class="footer__social-icon"
                />
              </a>
              <a href="#">
                <img
                  src="./assets/img/icon-pinterest.svg"
                  alt=""
                  class="footer__social-icon"
                />
              </a>
              <a href="#">
                <img
                  src="./assets/img/icon-youtube.svg"
                  alt=""
                  class="footer__social-icon"
                />
              </a>
            </div>
          </div>
        </div>
        <div class="footer__content">
          <h3 class="footer__title">Address</h3>
          <ul class="footer__links">
            <li><a href="#" class="footer__link">About Us</a></li>
            <li><a href="#" class="footer__link">Delivery Information</a></li>
            <li><a href="#" class="footer__link">Privacy Policy</a></li>
            <li><a href="#" class="footer__link">Terms & Conditions</a></li>
            <li><a href="#" class="footer__link">Contact Us</a></li>
            <li><a href="#" class="footer__link">Support Center</a></li>
          </ul>
        </div>
        <div class="footer__content">
          <h3 class="footer__title">My Account</h3>
          <ul class="footer__links">
            <li><a href="#" class="footer__link">Sign In</a></li>
            <li><a href="#" class="footer__link">View Cart</a></li>
            <li><a href="#" class="footer__link">My Wishlist</a></li>
            <li><a href="#" class="footer__link">Track My Order</a></li>
            <li><a href="#" class="footer__link">Help</a></li>
            <li><a href="#" class="footer__link">Order</a></li>
          </ul>
        </div>
        <div class="footer__content">
          <h3 class="footer__title">Secured Payed Gateways</h3>
          <img
            src="./assets/img/payment-method.png"
            alt=""
            class="payment__img"
          />
        </div>
      </div>
      <div class="footer__bottom">
        <p class="copyright">&copy; 2024 ShopWare Tech. All right reserved</p>
        <span class="designer">Designer by ShopWare Tech</span>
      </div>
    </footer>


    <script>
      document.addEventListener('DOMContentLoaded', function() {
        // Login form handling
        const loginForm = document.getElementById('loginForm');
        loginForm.addEventListener('submit', function(e) {
          e.preventDefault();
          const email = document.getElementById('loginEmail').value;
          const password = document.getElementById('loginPassword').value;

          const users = JSON.parse(localStorage.getItem('users')) || [];
          const user = users.find(u => u.email === email && u.password === password);

          if (user) {
            localStorage.setItem('currentUser', JSON.stringify(user));
            alert('Login successful!');
            updateUIAfterLogin(user);
          } else {
            alert('Invalid email or password');
          }
        });

        // Register form handling
        const registerForm = document.getElementById('registerForm');
        registerForm.addEventListener('submit', function(e) {
          e.preventDefault();
          const username = document.getElementById('registerUsername').value;
          const email = document.getElementById('registerEmail').value;
          const password = document.getElementById('registerPassword').value;
          const confirmPassword = document.getElementById('confirmPassword').value;
          const accountType = document.getElementById('accountType').value;

          if (password !== confirmPassword) {
            alert('Passwords do not match');
            return;
          }

          const users = JSON.parse(localStorage.getItem('users')) || [];
          if (users.some(u => u.email === email)) {
            alert('Email already registered');
            return;
          }

          const newUser = { username, email, password, accountType };
          users.push(newUser);
          localStorage.setItem('users', JSON.stringify(users));
          alert('Registration successful! Please login.');
          registerForm.reset();
        });

        // Tab switching functionality
        const tabBtns = document.querySelectorAll('.tab-btn');
        const dashboardContents = document.querySelectorAll('.dashboard-content');

        tabBtns.forEach(btn => {
          btn.addEventListener('click', () => {
            const tabId = btn.dataset.tab;
            
            tabBtns.forEach(b => b.classList.remove('active'));
            btn.classList.add('active');
            
            dashboardContents.forEach(content => {
              content.style.display = content.id === tabId ? 'block' : 'none';
            });

            if (tabId === 'deleteProduct' || tabId === 'manageQuantity') {
              loadProducts(tabId);
            }
          });
        });

        // Product form handling
        const productForm = document.getElementById('productForm');
        if (productForm) {
          productForm.addEventListener('submit', function(e) {
            e.preventDefault();
            
            const formData = {
              id: Date.now().toString(),
              name: document.getElementById('productName').value,
              price: document.getElementById('productPrice').value,
              quantity: document.getElementById('productQuantity').value,
              colors: document.getElementById('productColors').value.split(',').map(c => c.trim()),
              sizes: document.getElementById('productSizes').value.split(',').map(s => s.trim()),
              description: document.getElementById('productDescription').value,
            };

            const imageFile = document.getElementById('productImage').files[0];
            const thumbnailFiles = document.getElementById('productThumbnails').files;

            const imagePromises = [readFileAsDataURL(imageFile)];
            for (let i = 0; i < thumbnailFiles.length && i < 4; i++) {
              imagePromises.push(readFileAsDataURL(thumbnailFiles[i]));
            }

            Promise.all(imagePromises)
              .then(images => {
                formData.image = images[0];
                formData.thumbnails = images.slice(1);

                const products = JSON.parse(localStorage.getItem('products')) || [];
                products.push(formData);
                localStorage.setItem('products', JSON.stringify(products));

                alert('Product added successfully!');
                productForm.reset();
              })
              .catch(error => {
                console.error('Error handling images:', error);
                alert('Error adding product. Please try again.');
              });
          });
        }

        function loadProducts(section) {
          const products = JSON.parse(localStorage.getItem('products')) || [];
          const container = section === 'deleteProduct' ? 
            document.getElementById('productsList') : 
            document.getElementById('quantityManagement');

          container.innerHTML = '';

          products.forEach(product => {
            const productCard = document.createElement('div');
            productCard.className = 'product-card';
            
            if (section === 'deleteProduct') {
              productCard.innerHTML = `
                <img src="${product.image}" alt="${product.name}">
                <div class="product-info">
                  <h4>${product.name}</h4>
                  <p>Price: ₹${product.price}</p>
                  <p>Quantity: ${product.quantity}</p>
                </div>
                <button class="delete-btn" data-id="${product.id}">Delete Product</button>
              `;
            } else {
              productCard.innerHTML = `
                <img src="${product.image}" alt="${product.name}">
                <div class="product-info">
                  <h4>${product.name}</h4>
                  <p>Price: ₹${product.price}</p>
                </div>
                <div class="quantity-controls">
                  <button class="quantity-btn minus">-</button>
                  <input type="number" class="quantity-input" value="${product.quantity}" min="0">
                  <button class="quantity-btn plus">+</button>
                </div>
                <button class="save-btn" data-id="${product.id}">Save Changes</button>
              `;
            }

            container.appendChild(productCard);
          });

          if (section === 'deleteProduct') {
            container.querySelectorAll('.delete-btn').forEach(btn => {
              btn.addEventListener('click', function() {
                const productId = this.dataset.id;
                deleteProduct(productId);
              });
            });
          }

          if (section === 'manageQuantity') {
            container.querySelectorAll('.product-card').forEach(card => {
              const minusBtn = card.querySelector('.minus');
              const plusBtn = card.querySelector('.plus');
              const input = card.querySelector('.quantity-input');
              const saveBtn = card.querySelector('.save-btn');

              minusBtn.addEventListener('click', () => {
                input.value = Math.max(0, parseInt(input.value) - 1);
              });

              plusBtn.addEventListener('click', () => {
                input.value = parseInt(input.value) + 1;
              });

              saveBtn.addEventListener('click', function() {
                updateProductQuantity(this.dataset.id, parseInt(input.value));
              });
            });
          }
        }

        function readFileAsDataURL(file) {
          return new Promise((resolve, reject) => {
            const reader = new FileReader();
            reader.onload = e => resolve(e.target.result);
            reader.onerror = e => reject(e);
            reader.readAsDataURL(file);
          });
        }

        function deleteProduct(productId) {
          if (confirm('Are you sure you want to delete this product?')) {
            const products = JSON.parse(localStorage.getItem('products')) || [];
            const updatedProducts = products.filter(p => p.id !== productId);
            localStorage.setItem('products', JSON.stringify(updatedProducts));
            loadProducts('deleteProduct');
          }
        }

        function updateProductQuantity(productId, newQuantity) {
          const products = JSON.parse(localStorage.getItem('products')) || [];
          const productIndex = products.findIndex(p => p.id === productId);
          
          if (productIndex !== -1) {
            products[productIndex].quantity = newQuantity;
            localStorage.setItem('products', JSON.stringify(products));
            alert('Quantity updated successfully!');
          }
        }

        function updateUIAfterLogin(user) {
          const loginRegisterSection = document.querySelector('.login-register');
          const dealerDashboard = document.getElementById('dealerDashboard');
          const headerTopAction = document.querySelector('.header__top-action');

          loginRegisterSection.style.display = 'none';
          
          if (user.accountType === 'dealer') {
            dealerDashboard.style.display = 'block';
            loadProducts('addProduct');
          }

          headerTopAction.textContent = 'Logout';
          headerTopAction.onclick = function(e) {
            e.preventDefault();
            logout();
          };
        }

        function logout() {
          localStorage.removeItem('currentUser');
          location.reload();
        }

        // Check if user is already logged in
        const currentUser = JSON.parse(localStorage.getItem('currentUser'));
        if (currentUser) {
          updateUIAfterLogin(currentUser);
        }
      });
document.addEventListener('DOMContentLoaded', function() {
    // Login form handling with user type check
    const loginForm = document.getElementById('loginForm');
    loginForm.addEventListener('submit', function(e) {
        e.preventDefault();
        const email = document.getElementById('loginEmail').value;
        const password = document.getElementById('loginPassword').value;

        const users = JSON.parse(localStorage.getItem('users')) || [];
        const user = users.find(u => u.email === email && u.password === password);

        if (user) {
            localStorage.setItem('currentUser', JSON.stringify(user));
            if (user.accountType === 'dealer') {
                // Show dealer dashboard
                document.querySelector('.login-register').style.display = 'none';
                document.getElementById('dealerDashboard').style.display = 'block';
            } else {
                // Redirect customer to shop page
                alert('Welcome back! Redirecting to shop...');
                window.location.href = 'shop.html';
            }
        } else {
            alert('Invalid email or password');
        }
    });

    // Check if user is on home page
    if (window.location.pathname.includes('index.html') || window.location.pathname === '/') {
        const currentUser = JSON.parse(localStorage.getItem('currentUser'));
        const cartButtons = document.querySelectorAll('.cart__btn');
        const wishlistButtons = document.querySelectorAll('.action__btn[aria-label="Add to Wishlist"]');

        // Disable add to cart and wishlist buttons for non-logged in users
        if (!currentUser) {
            cartButtons.forEach(btn => {
                btn.style.pointerEvents = 'none';
                btn.style.opacity = '0.5';
                btn.title = 'Please login to add items to cart';
            });

            wishlistButtons.forEach(btn => {
                btn.style.pointerEvents = 'none';
                btn.style.opacity = '0.5';
                btn.title = 'Please login to add items to wishlist';
            });
        }
    }
});

document.addEventListener('DOMContentLoaded', function() {
    // Login form handling with user type check
    const loginForm = document.getElementById('loginForm');
    loginForm.addEventListener('submit', function(e) {
        e.preventDefault();
        const email = document.getElementById('loginEmail').value;
        const password = document.getElementById('loginPassword').value;

        const users = JSON.parse(localStorage.getItem('users')) || [];
        const user = users.find(u => u.email === email && u.password === password);

        if (user) {
            localStorage.setItem('currentUser', JSON.stringify(user));
            if (user.accountType === 'dealer') {
                // Show dealer dashboard
                document.querySelector('.login-register').style.display = 'none';
                document.getElementById('dealerDashboard').style.display = 'block';
                loadProducts('addProduct'); // Load dealer products section
            } else {
                // Redirect customer to shop page
                alert('Welcome! Redirecting to shop...');
                window.location.href = 'shop.html';
            }
        } else {
            alert('Invalid email or password');
        }
    });

    // Product form handling for dealers
    const productForm = document.getElementById('productForm');
    if (productForm) {
        productForm.addEventListener('submit', function(e) {
            e.preventDefault();
            
            const formData = {
                id: Date.now().toString(),
                name: document.getElementById('productName').value,
                price: document.getElementById('productPrice').value,
                quantity: document.getElementById('productQuantity').value,
                colors: document.getElementById('productColors').value.split(',').map(c => c.trim()),
                sizes: document.getElementById('productSizes').value.split(',').map(s => s.trim()),
                description: document.getElementById('productDescription').value,
                addedBy: JSON.parse(localStorage.getItem('currentUser')).email
            };

            const imageFile = document.getElementById('productImage').files[0];
            const thumbnailFiles = document.getElementById('productThumbnails').files;

            const imagePromises = [readFileAsDataURL(imageFile)];
            for (let i = 0; i < thumbnailFiles.length && i < 4; i++) {
                imagePromises.push(readFileAsDataURL(thumbnailFiles[i]));
            }

            Promise.all(imagePromises)
                .then(images => {
                    formData.image = images[0];
                    formData.thumbnails = images.slice(1);

                    const products = JSON.parse(localStorage.getItem('products')) || [];
                    products.push(formData);
                    localStorage.setItem('products', JSON.stringify(products));

                    alert('Product added successfully! It will appear on home and shop pages.');
                    productForm.reset();
                });
        });
    }
});
    </script>
  </body>
</html>